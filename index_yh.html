<!DOCTYPE html>
<html lang="ko">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>KT AI P-TF
    </title>

    <!-- Bootstrap Core CSS -->
    <link href="../static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<!--    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"> -->
    <!-- MetisMenu CSS -->
    <link href="../static/vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../static/dist/css/sb-admin-2.css" rel="stylesheet">
<!--    <link href="../static/dist/css/yeon.css" rel="stylesheet"> -->
    <!-- Morris Charts CSS -->
<!--    <link href="../static/vendor/morrisjs/morris.css" rel="stylesheet"> -->

    <!-- Custom Fonts -->
    <link href=https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css rel="stylesheet">
    <link href="../static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <style type="text/css">
        .dohyeon { font-family: 'Noto Sans KR', sans-serif; }
        .jua { font-family: 'Jua', sans-serif; }
        .border { border-color: none; }
    </style>
    <link href="../static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!--Bootstrap Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

<!-- 파이 차트 from sb admin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" crossorigin="anonymous"></script>

</head>

<body>

    <div id="wrapper">
        <!-- Navigation, margin-top 이용해서 navbar 위 아래 넓이 맞추기 -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-top: 35px">
                <span>
                    <div style="position:absolute; top:-15px; left:30px;">
                    <img src="../static/img/ktci2.png" alt="My Image" width=auto; height="50">
                    </div>
                </span>
            <a class="navbar-brand dohyeon" href="http://127.0.0.1:5000/" style="font-size: 25px; padding: 0px 120px;">OSP 시설분석을 통한 인입광케이블 예측설계　</a>
            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">

                        <li>
                            <a href="http://127.0.0.1:5000/" style="font-size: 17px; color: #5a5a5a;"><i class="bi-lightbulb"></i> &nbsp;&nbsp;신축건물 인입광 설계</a>
                        </li>
                        <li>
                            <a href="index4.html" style="font-size: 17px; color: #5a5a5a;"><i class="glyphicon glyphicon-search"></i> &nbsp;&nbsp;기축건물 시설현황</a>
                        </li>
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <div id="page-wrapper" style="margin: -20px 0 0 250px;">
            <br>
<!--            <div class="row">-->

<!--                <div class="col-lg-12">-->
<!--                    <h3 class="page-header dohyeon" style="margin: 20px 0 20px;">인입광 코어 설계</h3>-->
<!--                </div>-->

<!--            </div>-->
            <!-- 내용 -->
            <div class="row">
                   <div class="panel panel-default">
                        <div class="panel-heading" style="font-size:18px; color: #000; background-color: #B9AFF9; border-color: #B9AFF9;">
                            입력
                        </div>
                        <div class="panel-body">


    <section class="search-sec">
        <form action="#" method="post" novalidate="novalidate">
            <div class="row">
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <label class="text-white" for="inputEmail3" style="font-size:17px">지역</label>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <label class="text-white" for="inputEmail3" style="font-size:17px">건물 유형</label>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <label class="text-white" for="inputEmail1" style="font-size:17px">연면적(㎡)</label>
                        </div>
<!--                        (10.19 수정)-->
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <label class="text-white" for="inputEmail2" style="font-size:17px">지상 층 수</label>
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <label class="text-white" for="inputEmail2" style="font-size:17px">지하 층 수</label>
                        </div>
                        <!--                        (10.19 수정 끝)-->
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <label class="text-white" for="inputEmail3" style="font-size:17px">세대 수</label>
                        </div>
<!--                        <div class="col-lg-2 col-md-2 col-sm-12">-->
<!--                            <label class="text-white" for="inputEmail3">구분</label>-->
<!--                        </div>-->
                    </div>
<!--                    (10.19 수정)-->
                    <div class="row">
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <select class="form-control search-slt" id="param4">
                                <option>선택하세요</option>
                                <option>서울</option>
                                <option>성남</option>
                                <option>부산</option>
                                <option>대구</option>
                                <option>대전</option>
                                <option>인천</option>
                                <option>하남</option>
                            </select>
                        </div>
                        <!--                    (10.19 수정 끝)-->
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <select class="form-control search-slt" id="param5" onchange="bb()">
                                <option>선택하세요</option>
                                <option>빌딩</option>
                                <option>상가</option>
                                <option>주상복합</option>
                                <option>단독주택</option>

                            </select>
                        </div>


                        <div class="col-lg-2 col-md-2 col-sm-12 pt-0">
                            <input type="number" class="form-control search-slt" placeholder="예) 50000"
                                   id="param1" style="width: 100%;">
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <input type="number" class="form-control search-slt" placeholder="예) 7"
                                   id="param2" style="width: 100%;">
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <input type="number" class="form-control search-slt" placeholder="예) 4"
                                   id="param3" style="width: 100%;">
                        </div>
                        <div class="col-lg-2 col-md-2 col-sm-12">
                            <input type="number" class="form-control search-slt" placeholder="예) 45" id="param6">
                        </div>
                    </div>
                    <p style="margin-top:5px;">
                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-12">
                            <button type="button" class="btn btn-info" onclick="btn_click2();changeByJS();" style="padding: 6px 15px; background-color: #593cc1; border-color: #593cc1; font-size:17px;">산출
<!--                                                            <button type="button" class="btn btn-info" onclick="btn_click2();btn_click3();changeByJS();changeByJS22();" style="padding: 8px 15px;">산출-->
                            </button>
                            <button type="reset" class="btn btn-info" style="background-color: #593cc1; border-color: #593cc1; font-size:17px;">Reset
                            </button>
                            <button class="btn btn-info" style="background-color: #593cc1; border-color: #593cc1; font-size:17px;">
                                            <a href="https://now.kt.co.kr/" onclick="window.open(this.href); return false" style="color: #ffffff;">투자비 산출</a>
                            </button>
<!--                            <button type="button" class="btn btn-danger wrn-btn" onclick="btn_click2();">Excel-->
<!--                            </button>-->
                        </div>
                    </div>
                </div>
            </div>

        </form>
    </section>

                        </div>
                    </div>
            </div>

<!--                <p>-->
<!--        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample"-->
<!--                aria-expanded="true" aria-controls="collapseExample" style="color: #593cc1; background-color: #ffffff; border-color: #593cc1;">더보기</button>-->
<!--                </p>-->
<!--    <div class="collapse" id="collapseExample">
        <div class="card card-body">
            <table id="tableData" class="table">
        <thead id="head">
        <tr>
            <th scope="col">순번</th>
            <th scope="col" style="width: 10%">건물명</th>
            <th scope="col">건물유형</th>
            <th scope="col">연면적</th>
            <th scope="col">최고 층 수</th>
            <th scope="col">최저 층 수</th>
            <th scope="col">지역</th>
            <th scope="col">세대수</th>
            <th scope="col" style="width: 25%">주소</th>
            <th scope="col">인입광</th>
        </tr>
        </thead>

    </table>

        </div>
    </div> -->

<br>

    <div class="row">
                <div class="col-lg-6">
                    <div class="row">
                        <div class="panel panel-default col-lg-12">
                            <div class="panel-heading" style="font-size:18px; color: #000; background-color: #B9AFF9; border-color: #B9AFF9;">Total 코어 산출</div>
                            <div class="panel-body text-center">
<!--                                        <h3 class="text-light jua" style="font-size:35px">Total CORE 산출</h3>-->
                                        <h3 class="text-light">
                                            <span class="quiz-text jua" style="font-size:35px" >
                                                : 산출 결과
                                            </span>
                                        </h3>
                            </div>
                            <!-- /.panel-body -->
                        </div>
                    </div>

                    <div class="row">
                        <div class="panel panel-default col-lg-6" style="border-color: #fff">
                            <div class="panel-body text-center">
                                <img src="../static/img/cho.png" width="auto"; height="100" style="float: left">
                                        <h3 class="text-light jua" style="font-size:27px">초고속</h3>
                                        <h3 class="text-light">
                                            <span class="quiz-text jua ttest" style="font-size:20px">
                                                : 산출 결과
                                            </span>
                                        </h3>
                            </div>
                            <!-- /.panel-body -->
                        </div>

                        <div class="panel panel-default col-lg-6" style="border-color: #fff">
                            <div class="panel-body text-center">
                                <img src="../static/img/yong.png" width="auto"; height="100" style="float: left">
                                        <h3 class="text-light jua" style="font-size:27px">전용</h3>
                                        <h3 class="text-light">
                                            <span class="quiz-text jua ttest" style="font-size:20px">
                                                : 산출 결과
                                            </span>
                                        </h3>
                            </div>
                            <!-- /.panel-body -->
                        </div>
                    </div>
                    <!-- /.panel -->
                    <!--                        (10.19 수정)-->
                    <div class="row">
                        <div class="panel panel-default col-lg-6" style="border-color: #fff">
                            <div class="panel-body text-center">
                                <img src="../static/img/5g2.png" width="auto"; height="100" style="float: left">
                                        <h3 class="text-light jua" style="font-size:27px">무선</h3>
                                        <h3 class="text-light">
                                            <span class="quiz-text jua ttest" style="font-size:20px">
                                                : 산출 결과
                                            </span>
                                        </h3>
                            </div>
                            <!-- /.panel-body -->
                        </div>

                        <div class="panel panel-default col-lg-6" style="border-color: #fff">
                            <div class="panel-body text-center">
                                <img src="../static/img/router.png" width="auto"; height="100" style="float: left">
                                        <h3 class="text-light jua" style="font-size:27px">광전화</h3>
                                        <h3 class="text-light">
                                            <span class="quiz-text jua ttest" style="font-size:20px">
                                                : 산출 결과
                                            </span>
                                        </h3>
                            </div>
                            <!-- /.panel-body -->
                            <!--                        (10.19 수정 끝)-->
                        </div>
                    </div>

                </div>
                <!-- /.col-lg-4 -->
                <div class="col-lg-6">
                    <div class="panel panel-default ">
                        <div class="panel-heading" style="font-size:18px; color: #000; background-color: #B9AFF9; border-color: #B9AFF9;">BM 분포</div>
                        <div class="panel-body">
                            <canvas id="myPieChart"></canvas>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>


    </div>






                    </div>
                </div>

            </div>

        </div>

    </div>











            </div>





                </div>

            </div>

        </div>

    </div>

    <!-- jQuery -->
    <script src="../static/vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../static/vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="../static/vendor/metisMenu/metisMenu.min.js"></script>

    <!-- Morris Charts JavaScript -->
    <script src="../static/vendor/raphael/raphael.min.js"></script>
    <script src="../static/vendor/morrisjs/morris.min.js"></script>
    <script src="../static/data/morris-data.js"></script>


    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>


    <!-- Custom Theme JavaScript -->
    <script src="../static/dist/js/sb-admin-2.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
        integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
        crossorigin="anonymous"></script>
    <script src="../static/vendor/jquery/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.4.1/chart.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/emn178/chartjs-plugin-labels/src/chartjs-plugin-labels.js"></script>


    <script type="text/javascript">
            var result;

            function btn_click2() {
            console.log("1차 통과")
            var param1 = document.getElementById('param1').value
            var param2 = document.getElementById('param2').value
            var param3 = document.getElementById('param3').value
            var param4 = document.getElementById('param4').value
            var param5 = document.getElementById('param5').value
            var param6 = document.getElementById('param6').value

                                                var t = $('#tableData').DataTable().destroy();
                                                var t = $('#tableData').DataTable(
                                                    {
                                                        columnDefs: [
                                                            { targets: '_all' }
                                                        ],
                                                        lengthChange: false,
                                                        searching: false,
                                                        ordering: false,
                                                        info: false,
                                                        paging: true
                                                    }
                                                );
                                                t.clear();
                                                t.draw();
            console.log("2차 통과")
            $.ajax({
                            type : 'POST',
                            url : 'http://127.0.0.1:5000/test',
                            data : {
                                    itemid1:param1,
                                    itemid2:param2,
                                    itemid3:param3,
                                    itemid4:param4,
                                    itemid5:param5,
                                    itemid6:param6
                            },
                            dataType : 'JSON',
                            success : function(result)
                                {
                                var locations = result[0]

                                        for (var i in locations){

                                              t.row.add(
                                                     [locations[i][0],locations[i][1],locations[i][2],locations[i][3],locations[i][4],
                                                      locations[i][5],locations[i][6],locations[i][7],locations[i][8],locations[i][9]
                                                      ]).draw();
                                        }
                                console.log(result[0])
                                console.log(result[1])
                                console.log('comp')
                                var test = result[1]
                                var ttt = document.getElementsByClassName('quiz-text jua ttest')
                                for (var i in test)
                                {
                                    ttt[i].innerText = test[i]
                                }

                                var ctx = document.getElementById("myPieChart");
                                console.log(ctx)
                                var myPieChart = null;
<!--                            Null 넣어서 차트 겹치는거 없애야 함-->
                                var myPieChart = new Chart(ctx, {
                                    type: 'pie',
                                    data: {
                                        labels: ["초고속", "전용", "무선", "광전화"],
                                        datasets: [{
                                            data: result[1],
                                            backgroundColor: ['#fe8bdb', '#68fce1', '#7788ff', '#ffd45a'],
                                        }],
                                    },
                                    options: {
                                        plugins: {
                                            legend: {
                                                labels: {
                                                    font: {
                                                        size: 14
                                                    }
                                                }
                                            }
                                        }
                                    }
                                });


                                let x = document.getElementsByClassName("quiz-text")[0];
                                x.innerText=result[2]+'　Core';
                                x.style.color="red";
                            }
            });
            };


    </script>

#(10.19 수정)
<script type="text/javascript">
        function changeByJS() {



            let y = document.getElementById("param1").value
            let y2 = document.getElementById("param2").value
            let y3 = document.getElementById("param3").value
            let y4 = document.getElementById("param5").options[document.getElementById("param5").selectedIndex].value
            console.log(y)
            console.log(y4)
            if(y=="예) 50000"){
                alert("필수입력값을 확인하세요 연면적, 지상층수, 지하층수, 건물유형");
                }
            else if(y2=="예) 7"){
                alert("필수입력값을 확인하세요 연면적, 지상층수, 지하층수, 건물유형");
                }
            else if(y3=="예) 4"){
                alert("필수입력값을 확인하세요 연면적, 지상층수, 지하층수, 건물유형");
                }
            else if(y4=="선택하세요"){
                alert("필수입력값을 확인하세요 연면적, 지상층수, 지하층수, 건물유형");
                }
            else{
            let x = document.getElementsByClassName("quiz-text")[0];
            x.innerText="Calculating...";
            x.style.color="red";
            }

    };
</script>
#(10.19 수정)

<!-- <script type="text/javascript">
        function changeByJS22() {
            let x = document.getElementsByClassName("quiz-text2")[0];
            x.innerText="?";
            x.style.color="black";
    }
</script> -->


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<!-- <script type="text/javascript">
window.onload = function()
        {
        var dataPoints = [];
        var result;
        console.log("1차 통과")
        var param1 = document.getElementById('param1').value
        var param2 = document.getElementById('param2').value
        var param3 = document.getElementById('param3').value
        var param4 = document.getElementById('param4').value
        var param5 = document.getElementById('param5').value
        var param6 = document.getElementById('param6').value

        var chart = new CanvasJS.Chart("chartContainer", {
            title:
                text: "Rendering Chart with dataPoints from External JSON"
            }
             axisX:{
               viewportMaximum: 100000
             },
            data: [{
                type: "scatter",
                color: "red",
                dataPoints: dataPoints,
            }]
        });
        $.ajax({
                    type: 'POST',
                    url: 'http://127.0.0.1:5000/test2',
                    data: {
                        itemid1: param1,
                        itemid2: param2,
                        itemid3: param3,
                        itemid4: param4,
                        itemid5: param5,
                        itemid6: param6
                    },
                    dataType: 'JSON',
                    success: function(result)
                                {
                                chart.data.clear();
                                console.log(result[1])
                                $.each(result, function(key, value)
                                        {
                                        dataPoints.push({
                                            x: value[0],
                                            y: value[1]
                                            });
                                        console.log(value[0])

                                        });
                                chart.render();

                                }
                })


}
</script> -->
<script type="text/javascript">
function bb() {


var selectOption = document.getElementById('param5');
selectOption = selectOption.options[selectOption.selectedIndex].value;

console.log(selectOption)

if ( selectOption == '빌딩' ) {
document.getElementById('param6').disabled = true;
}
else if ( selectOption == '상가' ) {
document.getElementById('param6').disabled = true;
}
else if ( selectOption == '주상복합' ) {
document.getElementById('param6').disabled = false;
}
else {
document.getElementById('param6').disabled = false;
}


};

</script>




</body>

</html>